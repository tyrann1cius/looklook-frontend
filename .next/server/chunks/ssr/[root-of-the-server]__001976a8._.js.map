{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/page.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"ctas\": \"page-module___8aEwW__ctas\",\n  \"footer\": \"page-module___8aEwW__footer\",\n  \"loginBtn\": \"page-module___8aEwW__loginBtn\",\n  \"loginForm\": \"page-module___8aEwW__loginForm\",\n  \"loginTbx\": \"page-module___8aEwW__loginTbx\",\n  \"logo\": \"page-module___8aEwW__logo\",\n  \"main\": \"page-module___8aEwW__main\",\n  \"page\": \"page-module___8aEwW__page\",\n  \"primary\": \"page-module___8aEwW__primary\",\n  \"promoBadge\": \"page-module___8aEwW__promoBadge\",\n  \"promoBadgeContainer\": \"page-module___8aEwW__promoBadgeContainer\",\n  \"promoCard\": \"page-module___8aEwW__promoCard\",\n  \"promoDescription\": \"page-module___8aEwW__promoDescription\",\n  \"promoPartner\": \"page-module___8aEwW__promoPartner\",\n  \"promoRedeem\": \"page-module___8aEwW__promoRedeem\",\n  \"promoRedeemContainer\": \"page-module___8aEwW__promoRedeemContainer\",\n  \"secondary\": \"page-module___8aEwW__secondary\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/winitwitchayanrat/Codes/LookLook/looklook-frontend/src/app/promotion/page.tsx"],"sourcesContent":["'use client'\nimport styles from \"../page.module.css\";\nimport Cookies from 'js-cookie';\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport moment from \"moment\";\n\n// eslint-disable-next-line @next/next/no-async-client-component\nexport default async function PromoPage() {\n  const data = await fetch('http://localhost:3000/promotions')\n  const promotions = await data.json()\n\n  // const router = useRouter()\n\n  const token = Cookies.get('token')\n  console.log(token)\n\n  if (!token) {\n    // router.replace('/login')\n    return\n  }\n\n  // try {\n  //   const res = await fetch('http://localhost:3000/promotions', {\n  //     headers: {\n  //       Authorization: `Bearer ${token}`,\n  //     },\n  //   })\n\n  //   if (!res.ok) throw new Error('Token validation failed')\n  // } catch (error) {\n  //   console.error(error)\n  //   router.push('/login') // Redirect to login if token validation fails\n  // }\n\n  // useEffect(() => {\n  //   const token = Cookies.get('token')\n\n  //   if (!token) {\n  //     router.replace('/login')\n  //     return\n  //   }\n\n  //   const validateToken = async () => {\n  //     try {\n  //       const res = await fetch('http://localhost:3000/promotions', {\n  //         headers: {\n  //           Authorization: `Bearer ${token}`,\n  //         },\n  //       })\n\n  //       if (!res.ok) throw new Error('Token validation failed')\n  //     } catch (error) {\n  //       console.error(error)\n  //       router.push('/login') // Redirect to login if token validation fails\n  //     }\n  //   }\n\n  //   validateToken()\n  // }, [router])\n\n    return (\n    <div className={styles.page}>\n      <main className={styles.main}>\n        <div>\n          <h1>Available Promotions</h1>\n          {promotions.map(promotion => (\n            <div key={promotion.promoId} className={styles.promoCard}>\n              <h2>{promotion.title}</h2>\n                <div className={styles.promoBadgeContainer}>\n                  {\n                    promotion.types.map(promoType=>(\n                      <div key={promoType} className={styles.promoBadge}>\n                        {promoType}\n                      </div>\n                    ))\n                  }\n                </div>\n                <div className={styles.promoDescription}>{promotion.description}</div>\n                <div className={styles.promoPartner}>By {promotion.partners}</div>\n                <div>From {moment(promotion.start).format('DD/MM/YYYY HH:mm:ss')}</div>\n                <div>To {moment(promotion.end).format('DD/MM/YYYY HH:mm:ss')}</div>\n                <div className={styles.promoRedeemContainer}>\n                  <button className={styles.promoRedeem}>Redeem</button>\n                </div>\n            </div>\n          ))}\n        </div>\n      </main>\n      <footer className={styles.footer}>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAGA;AALA;;;;;AAQe,eAAe;IAC5B,MAAM,OAAO,MAAM,MAAM;IACzB,MAAM,aAAa,MAAM,KAAK,IAAI;IAElC,6BAA6B;IAE7B,MAAM,QAAQ,qJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;IAC1B,QAAQ,GAAG,CAAC;IAEZ,IAAI,CAAC,OAAO;QACV,2BAA2B;QAC3B;IACF;IAEA,QAAQ;IACR,kEAAkE;IAClE,iBAAiB;IACjB,0CAA0C;IAC1C,SAAS;IACT,OAAO;IAEP,4DAA4D;IAC5D,oBAAoB;IACpB,yBAAyB;IACzB,yEAAyE;IACzE,IAAI;IAEJ,oBAAoB;IACpB,uCAAuC;IAEvC,kBAAkB;IAClB,+BAA+B;IAC/B,aAAa;IACb,MAAM;IAEN,wCAAwC;IACxC,YAAY;IACZ,sEAAsE;IACtE,qBAAqB;IACrB,8CAA8C;IAC9C,aAAa;IACb,WAAW;IAEX,gEAAgE;IAChE,wBAAwB;IACxB,6BAA6B;IAC7B,6EAA6E;IAC7E,QAAQ;IACR,MAAM;IAEN,oBAAoB;IACpB,eAAe;IAEb,qBACA,8OAAC;QAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,IAAI;;0BACzB,8OAAC;gBAAK,WAAW,8HAAA,CAAA,UAAM,CAAC,IAAI;0BAC1B,cAAA,8OAAC;;sCACC,8OAAC;sCAAG;;;;;;wBACH,WAAW,GAAG,CAAC,CAAA,0BACd,8OAAC;gCAA4B,WAAW,8HAAA,CAAA,UAAM,CAAC,SAAS;;kDACtD,8OAAC;kDAAI,UAAU,KAAK;;;;;;kDAClB,8OAAC;wCAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,mBAAmB;kDAEtC,UAAU,KAAK,CAAC,GAAG,CAAC,CAAA,0BAClB,8OAAC;gDAAoB,WAAW,8HAAA,CAAA,UAAM,CAAC,UAAU;0DAC9C;+CADO;;;;;;;;;;kDAMhB,8OAAC;wCAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,gBAAgB;kDAAG,UAAU,WAAW;;;;;;kDAC/D,8OAAC;wCAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,YAAY;;4CAAE;4CAAI,UAAU,QAAQ;;;;;;;kDAC3D,8OAAC;;4CAAI;4CAAM,CAAA,GAAA,gIAAA,CAAA,UAAM,AAAD,EAAE,UAAU,KAAK,EAAE,MAAM,CAAC;;;;;;;kDAC1C,8OAAC;;4CAAI;4CAAI,CAAA,GAAA,gIAAA,CAAA,UAAM,AAAD,EAAE,UAAU,GAAG,EAAE,MAAM,CAAC;;;;;;;kDACtC,8OAAC;wCAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,oBAAoB;kDACzC,cAAA,8OAAC;4CAAO,WAAW,8HAAA,CAAA,UAAM,CAAC,WAAW;sDAAE;;;;;;;;;;;;+BAhBnC,UAAU,OAAO;;;;;;;;;;;;;;;;0BAsBjC,8OAAC;gBAAO,WAAW,8HAAA,CAAA,UAAM,CAAC,MAAM;;;;;;;;;;;;AAItC","debugId":null}}]
}